<html ng-app='ArkhamHelper'>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Arkham Horror</title>
  <link rel="stylesheet" type="text/css" href="/styles/arkham.css"></link>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.css" />
  <link rel="stylesheet" type="text/css" href="/styles/tinyscrollbar.css"></link>
</head>
<body>
  <div data-role='page'>
    <div data-role='header'>
        <div id='ancientOne' ng-controller='AncientOne' class='ui-grid-a'>
          <div class='ui-block-a'>
            <button ng-click='random()'>Ancient One:</button>
            {{name}}
          </div>
          <div class='ui-block-b'>
            <div id='doomTracker' ng-controller='Tracker'>
              <div doom-track current-value="current" max="max"
              on-level-selected="setDoomTrack(current)"></div>
            </div>
          </div>
      </div>
    </div>

    <div data-role='content' class="ui-grid-a">
      <div class="ui-block-a" style="width:20%" >
        <div id="scrollbar1">
          <div class="viewport">
            <div class='overview'>
              <div id='encounter' ng-controller='Encounter' >
                <div ng-repeat='location in locations | unique:"street"' data-role='collapsible'>
                  <h3>{{location.street}}</h3>
                  <button ng-repeat="loc in locations | filter:{street:location.street}"
                          ng-click="getEncounter(loc.id)">{{loc.name}}</button>
                </div>
                <div id='encounterPop' data-role='popup' data-overlay-theme='b'>
                  <div data-role='header' role='banner'>
                    <h1>{{encounter.title}}</h1>
                  </div>
                  <p>{{encounter.body}}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class='ui-block-b' style="width:80%">
        <div id='mythos' ng-controller='Mythos' class='ui-grid-b'>

          <button ng-click="getMythos()">Mythos Card</button>
          <div id='headline' class='ui-block-a'>
            <h1>Current Headline</h1>
            <p>{{headline}}</p>
          </div>
          <div id='environment' class='ui-block-b'>
            <h1>Environmental</h1>
            <p>{{environment}}</p>
          </div>
          <div id='rumor' class='ui-block-c'>
            <h1>Rumors</h1>
            <p>{{rumor}}</p>
          </div>
        </div>
      </div>

    </div>

    <div data-role='footer'>
      <div id='terror' ng-controller='Terror' class='ui-grid-a'>
        <div class='ui-block-a' style="width:20%">
          <p>Terror Track</p>
        </div>
        <div class='terror'>
          <div>1</div>
          <div>2</div>
          <div class='store'>3</div>
          <div>4</div>
          <div>5</div>
          <div class='store'>6</div>
          <div>7</div>
          <div>8</div>
          <div class='store'>9</div>
          <div>10</div>
        </div>
      </div>
    </div>
  </div>
</body>
<script src="https://code.jquery.com/jquery-2.1.3.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.js"></script>
<script src="/scripts/jquery.tinyscrollbar.min.js"></script>
<script src="/scripts/locations.js"></script>
<script src="/scripts/circus.js"></script>
<script src="/scripts/ui-utils.min.js"></script>
<script src="/scripts/arkhamHelper.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('#scrollbar1').tinyscrollbar({viewportSize:800});
  $('.terror > div').click(function() {
    $(this).toggleClass('strikethrough');
  });
});
</script>

</html>
